<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>
<?import javafx.geometry.Pos?>

<StackPane xmlns="http://javafx.com/javafx/21" 
           xmlns:fx="http://javafx.com/fxml/1" 
           fx:controller="com.example.system.controller.LoginController"
           prefHeight="600.0" prefWidth="900.0"
           style="-fx-background-color: #f0f2f5;">
    
    <!-- Background Image -->
    <ImageView fitHeight="600.0" fitWidth="900.0" opacity="0.3" preserveRatio="false">
        <image>
            <Image url="/images/omnibus.jpg" />
        </image>
    </ImageView>
    
    <!-- Login Card -->
    <VBox alignment="CENTER" maxWidth="400.0" spacing="25.0" 
          style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 40;">
        <effect>
            <DropShadow radius="20" offsetY="5">
                <color>
                    <Color opacity="0.3" />
                </color>
            </DropShadow>
        </effect>
        
        <!-- Logo/Title -->
        <VBox alignment="CENTER" spacing="10.0">
            <Label text="PaySTI" textFill="#1e88e5" style="-fx-font-weight: bold;">
                <font>
                    <Font size="36.0" />
                </font>
            </Label>
            <Label text="Tuition Management System" textFill="#666">
                <font>
                    <Font size="14.0" />
                </font>
            </Label>
        </VBox>
        
        <!-- Login Form -->
        <VBox spacing="15.0">
            <!-- Username Field -->
            <VBox spacing="5.0">
                <Label text="Username" textFill="#333">
                    <font>
                        <Font size="13.0" />
                    </font>
                </Label>
                <TextField fx:id="usernameField" promptText="Enter your username"
                          style="-fx-background-radius: 5; -fx-border-color: #ddd; -fx-border-radius: 5; -fx-padding: 10;">
                    <font>
                        <Font size="14.0" />
                    </font>
                </TextField>
            </VBox>
            
            <!-- Password Field -->
            <VBox spacing="5.0">
                <Label text="Password" textFill="#333">
                    <font>
                        <Font size="13.0" />
                    </font>
                </Label>
                <StackPane>
                    <PasswordField fx:id="passwordField" promptText="Enter your password"
                                  style="-fx-background-radius: 5; -fx-border-color: #ddd; -fx-border-radius: 5; -fx-padding: 10 40 10 10;"
                                  StackPane.alignment="CENTER_LEFT">
                        <font>
                            <Font size="14.0" />
                        </font>
                    </PasswordField>
                    <TextField fx:id="passwordVisibleField" promptText="Enter your password" visible="false" managed="false"
                              style="-fx-background-radius: 5; -fx-border-color: #ddd; -fx-border-radius: 5; -fx-padding: 10 40 10 10;"
                              StackPane.alignment="CENTER_LEFT">
                        <font>
                            <Font size="14.0" />
                        </font>
                    </TextField>
                    <Button fx:id="togglePasswordButton" text="ðŸ‘" onAction="#togglePasswordVisibility"
                           style="-fx-background-color: transparent; -fx-border-color: transparent; -fx-cursor: hand; -fx-padding: 5; -fx-font-size: 16;"
                           StackPane.alignment="CENTER_RIGHT">
                        <tooltip>
                            <Tooltip text="Show/Hide Password" />
                        </tooltip>
                    </Button>
                </StackPane>
            </VBox>
            
            <!-- Login Button -->
            <Button fx:id="loginButton" text="Login" maxWidth="Infinity" onAction="#handleLogin"
                   style="-fx-background-color: #1e88e5; -fx-text-fill: white; -fx-background-radius: 5; -fx-cursor: hand; -fx-padding: 12;"
                   onMouseEntered="#handleMouseEntered" onMouseExited="#handleMouseExited">
                <font>
                    <Font size="15.0" />
                </font>
            </Button>
        </VBox>
        
        <!-- Footer Text -->
        <Label text="Please use your student credentials to login" textFill="#999" wrapText="true" textAlignment="CENTER">
            <font>
                <Font size="11.0" />
            </font>
        </Label>
        
    </VBox>
    
</StackPane>